@prefix sbpmnc: <https://ntimes404.github.io/sBPMN/classes#> .
@prefix sbpmnp: <https://ntimes404.github.io/sBPMN/properties#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

#################################################################
#    SHACL NodeShapes for BPMN Classes
#################################################################

# Each NodeShape applies default property values to BPMN classes.
# These shapes can be used for validation or enrichment of instance data.

sbpmnc:textAnnotationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:textAnnotation ;
    sh:property [
        sh:path sbpmnp:text ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:textFormat ;
        sh:maxCount 1 ;
        sh:defaultValue "text/plain"^^xsd:string ;
    ] .

sbpmnc:catchEventShape a sh:NodeShape ;
    sh:targetClass sbpmnc:catchEvent ;
    sh:property [
        sh:path sbpmnp:outputSet ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:parallelMultiple ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:throwEventShape a sh:NodeShape ;
    sh:targetClass sbpmnc:throwEvent ;
    sh:property [
        sh:path sbpmnp:inputSet ;
        sh:maxCount 1 ;
    ] .

sbpmnc:boundaryEventShape a sh:NodeShape ;
    sh:targetClass sbpmnc:boundaryEvent ;
    sh:property [
        sh:path sbpmnp:attachedToRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:cancelActivity ;
        sh:maxCount 1 ;
        sh:defaultValue "true"^^xsd:boolean ;
    ] .

sbpmnc:startEventShape a sh:NodeShape ;
    sh:targetClass sbpmnc:startEvent ;
    sh:property [
        sh:path sbpmnp:isInterrupting ;
        sh:maxCount 1 ;
        sh:defaultValue "true"^^xsd:boolean ;
    ] .

sbpmnc:collaborationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:collaboration ;
    sh:property [
        sh:path sbpmnp:isClosed ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:dataAssociationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:dataAssociation ;
    sh:property [
        sh:path sbpmnp:transformation ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:targetRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:linkEventDefinitionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:linkEventDefinition ;
    sh:property [
        sh:path sbpmnp:target ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:name ;
        sh:maxCount 1 ;
        sh:minCount 1 ;
    ] .

sbpmnc:messageEventDefinitionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:messageEventDefinition ;
    sh:property [
        sh:path sbpmnp:messageRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:operationRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:resourceParameterShape a sh:NodeShape ;
    sh:targetClass sbpmnc:resourceParameter ;
    sh:property [
        sh:path sbpmnp:type ;
        sh:maxCount 1 ;
    ] .

sbpmnc:compensateEventDefinitionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:compensateEventDefinition ;
    sh:property [
        sh:path sbpmnp:activityRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:multiInstanceLoopCharacteristicsShape a sh:NodeShape ;
    sh:targetClass sbpmnc:multiInstanceLoopCharacteristics ;
    sh:property [
        sh:path sbpmnp:noneBehaviorEventRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:loopCardinality ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:loopDataInputRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:loopDataOutputRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:inputDataItem ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:outputDataItem ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:completionCondition ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:oneBehaviorEventRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:isSequential ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] ;
    sh:property [
        sh:path sbpmnp:behavior ;
        sh:maxCount 1 ;
        sh:defaultValue "All"^^xsd:string ;
    ] .

sbpmnc:processShape a sh:NodeShape ;
    sh:targetClass sbpmnc:process ;
    sh:property [
        sh:path sbpmnp:auditing ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:definitionalCollaborationRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:monitoring ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:processType ;
        sh:maxCount 1 ;
        sh:defaultValue "None"^^xsd:string ;
    ] ;
    sh:property [
        sh:path sbpmnp:isClosed ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:escalationEventDefinitionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:escalationEventDefinition ;
    sh:property [
        sh:path sbpmnp:escalationRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:propertyShape a sh:NodeShape ;
    sh:targetClass sbpmnc:property ;
    sh:property [
        sh:path sbpmnp:dataState ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:itemSubjectRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:laneShape a sh:NodeShape ;
    sh:targetClass sbpmnc:lane ;
    sh:property [
        sh:path sbpmnp:childLaneSet ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:partitionElementRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:partitionElement ;
        sh:maxCount 1 ;
    ] .

sbpmnc:signalEventDefinitionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:signalEventDefinition ;
    sh:property [
        sh:path sbpmnp:signalRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:participantMultiplicityShape a sh:NodeShape ;
    sh:targetClass sbpmnc:participantMultiplicity ;
    sh:property [
        sh:path sbpmnp:minimum ;
        sh:maxCount 1 ;
        sh:defaultValue "0"^^xsd:int ;
    ] ;
    sh:property [
        sh:path sbpmnp:maximum ;
        sh:maxCount 1 ;
        sh:defaultValue "1"^^xsd:int ;
    ] .

sbpmnc:conversationLinkShape a sh:NodeShape ;
    sh:targetClass sbpmnc:conversationLink ;
    sh:property [
        sh:path sbpmnp:targetRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:sourceRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:baseElementWithMixedContentShape a sh:NodeShape ;
    sh:targetClass sbpmnc:baseElementWithMixedContent ;
    sh:property [
        sh:path sbpmnp:extensionElements ;
        sh:maxCount 1 ;
    ] .

sbpmnc:complexGatewayShape a sh:NodeShape ;
    sh:targetClass sbpmnc:complexGateway ;
    sh:property [
        sh:path sbpmnp:activationCondition ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:default ;
        sh:maxCount 1 ;
    ] .

sbpmnc:itemDefinitionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:itemDefinition ;
    sh:property [
        sh:path sbpmnp:structureRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:isCollection ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] ;
    sh:property [
        sh:path sbpmnp:itemKind ;
        sh:maxCount 1 ;
        sh:defaultValue "Information"^^xsd:string ;
    ] .

sbpmnc:standardLoopCharacteristicsShape a sh:NodeShape ;
    sh:targetClass sbpmnc:standardLoopCharacteristics ;
    sh:property [
        sh:path sbpmnp:testBefore ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:activityShape a sh:NodeShape ;
    sh:targetClass sbpmnc:activity ;
    sh:property [
        sh:path sbpmnp:default ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:ioSpecification ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:completionQuantity ;
        sh:maxCount 1 ;
        sh:defaultValue "1"^^xsd:integer ;
    ] ;
    sh:property [
        sh:path sbpmnp:startQuantity ;
        sh:maxCount 1 ;
        sh:defaultValue "1"^^xsd:integer ;
    ] ;
    sh:property [
        sh:path sbpmnp:isForCompensation ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:choreographyActivityShape a sh:NodeShape ;
    sh:targetClass sbpmnc:choreographyActivity ;
    sh:property [
        sh:path sbpmnp:initiatingParticipantRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:participantRef ;
        sh:minCount 2 ;
    ] ;
    sh:property [
        sh:path sbpmnp:loopType ;
        sh:maxCount 1 ;
        sh:defaultValue "None"^^xsd:string ;
    ] .

sbpmnc:resourceAssignmentExpressionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:resourceAssignmentExpression ;
    sh:property [
        sh:path sbpmnp:expression ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:globalBusinessRuleTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:globalBusinessRuleTask ;
    sh:property [
        sh:path sbpmnp:implementation ;
        sh:maxCount 1 ;
        sh:defaultValue "##unspecified"^^xsd:token ;
    ] .

sbpmnc:signalShape a sh:NodeShape ;
    sh:targetClass sbpmnc:signal ;
    sh:property [
        sh:path sbpmnp:structureRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:userTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:userTask ;
    sh:property [
        sh:path sbpmnp:implementation ;
        sh:maxCount 1 ;
        sh:defaultValue "##unspecified"^^xsd:token ;
    ] .

sbpmnc:correlationPropertyBindingShape a sh:NodeShape ;
    sh:targetClass sbpmnc:correlationPropertyBinding ;
    sh:property [
        sh:path sbpmnp:dataPath ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:correlationPropertyRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:errorEventDefinitionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:errorEventDefinition ;
    sh:property [
        sh:path sbpmnp:errorRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:errorShape a sh:NodeShape ;
    sh:targetClass sbpmnc:error ;
    sh:property [
        sh:path sbpmnp:structureRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:eventBasedGatewayShape a sh:NodeShape ;
    sh:targetClass sbpmnc:eventBasedGateway ;
    sh:property [
        sh:path sbpmnp:eventGatewayType ;
        sh:maxCount 1 ;
        sh:defaultValue "Exclusive"^^xsd:string ;
    ] ;
    sh:property [
        sh:path sbpmnp:instantiate ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:dataInputShape a sh:NodeShape ;
    sh:targetClass sbpmnc:dataInput ;
    sh:property [
        sh:path sbpmnp:itemSubjectRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:dataState ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:isCollection ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:sequenceFlowShape a sh:NodeShape ;
    sh:targetClass sbpmnc:sequenceFlow ;
    sh:property [
        sh:path sbpmnp:sourceRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:conditionExpression ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:targetRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:escalationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:escalation ;
    sh:property [
        sh:path sbpmnp:structureRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:businessRuleTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:businessRuleTask ;
    sh:property [
        sh:path sbpmnp:implementation ;
        sh:maxCount 1 ;
        sh:defaultValue "##unspecified"^^xsd:token ;
    ] .

sbpmnc:sendTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:sendTask ;
    sh:property [
        sh:path sbpmnp:messageRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:operationRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:implementation ;
        sh:maxCount 1 ;
        sh:defaultValue "##WebService"^^xsd:token ;
    ] .

sbpmnc:baseElementShape a sh:NodeShape ;
    sh:targetClass sbpmnc:baseElement ;
    sh:property [
        sh:path sbpmnp:extensionElements ;
        sh:maxCount 1 ;
    ] .

sbpmnc:inclusiveGatewayShape a sh:NodeShape ;
    sh:targetClass sbpmnc:inclusiveGateway ;
    sh:property [
        sh:path sbpmnp:default ;
        sh:maxCount 1 ;
    ] .

sbpmnc:operationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:operation ;
    sh:property [
        sh:path sbpmnp:inMessageRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:implementationRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:outMessageRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:name ;
        sh:maxCount 1 ;
        sh:minCount 1 ;
    ] .

sbpmnc:subProcessShape a sh:NodeShape ;
    sh:targetClass sbpmnc:subProcess ;
    sh:property [
        sh:path sbpmnp:triggeredByEvent ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:assignmentShape a sh:NodeShape ;
    sh:targetClass sbpmnc:assignment ;
    sh:property [
        sh:path sbpmnp:from ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:to ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:transactionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:transaction ;
    sh:property [
        sh:path sbpmnp:method ;
        sh:maxCount 1 ;
        sh:defaultValue "##Compensate"^^xsd:token ;
    ] .

sbpmnc:exclusiveGatewayShape a sh:NodeShape ;
    sh:targetClass sbpmnc:exclusiveGateway ;
    sh:property [
        sh:path sbpmnp:default ;
        sh:maxCount 1 ;
    ] .

sbpmnc:messageFlowShape a sh:NodeShape ;
    sh:targetClass sbpmnc:messageFlow ;
    sh:property [
        sh:path sbpmnp:targetRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:messageRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:sourceRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:messageShape a sh:NodeShape ;
    sh:targetClass sbpmnc:message ;
    sh:property [
        sh:path sbpmnp:itemRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:serviceTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:serviceTask ;
    sh:property [
        sh:path sbpmnp:operationRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:implementation ;
        sh:maxCount 1 ;
        sh:defaultValue "##WebService"^^xsd:token ;
    ] .

sbpmnc:choreographyTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:choreographyTask ;
    sh:property [
        sh:path sbpmnp:messageFlowRef ;
        sh:minCount 1 ;
        sh:maxCount 2 ;
    ] .

sbpmnc:receiveTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:receiveTask ;
    sh:property [
        sh:path sbpmnp:messageRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:operationRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:instantiate ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] ;
    sh:property [
        sh:path sbpmnp:implementation ;
        sh:maxCount 1 ;
        sh:defaultValue "##WebService"^^xsd:token ;
    ] .

sbpmnc:complexBehaviorDefinitionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:complexBehaviorDefinition ;
    sh:property [
        sh:path sbpmnp:event ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:condition ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:documentationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:documentation ;
    sh:property [
        sh:path sbpmnp:textFormat ;
        sh:maxCount 1 ;
        sh:defaultValue "text/plain"^^xsd:string ;
    ] .

sbpmnc:conversationAssociationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:conversationAssociation ;
    sh:property [
        sh:path sbpmnp:innerConversationNodeRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:outerConversationNodeRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:globalChoreographyTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:globalChoreographyTask ;
    sh:property [
        sh:path sbpmnp:initiatingParticipantRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:relationshipShape a sh:NodeShape ;
    sh:targetClass sbpmnc:relationship ;
    sh:property [
        sh:path sbpmnp:source ;
        sh:minCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:target ;
        sh:minCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:type ;
        sh:maxCount 1 ;
        sh:minCount 1 ;
    ] .

sbpmnc:correlationPropertyRetrievalExpressionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:correlationPropertyRetrievalExpression ;
    sh:property [
        sh:path sbpmnp:messageRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:messagePath ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:dataObjectShape a sh:NodeShape ;
    sh:targetClass sbpmnc:dataObject ;
    sh:property [
        sh:path sbpmnp:itemSubjectRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:dataState ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:isCollection ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:callActivityShape a sh:NodeShape ;
    sh:targetClass sbpmnc:callActivity ;
    sh:property [
        sh:path sbpmnp:calledElement ;
        sh:maxCount 1 ;
    ] .

sbpmnc:messageFlowAssociationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:messageFlowAssociation ;
    sh:property [
        sh:path sbpmnp:outerMessageFlowRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:innerMessageFlowRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:interfaceShape a sh:NodeShape ;
    sh:targetClass sbpmnc:interface ;
    sh:property [
        sh:path sbpmnp:implementationRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:operation ;
        sh:minCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:name ;
        sh:maxCount 1 ;
        sh:minCount 1 ;
    ] .

sbpmnc:flowElementShape a sh:NodeShape ;
    sh:targetClass sbpmnc:flowElement ;
    sh:property [
        sh:path sbpmnp:monitoring ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:auditing ;
        sh:maxCount 1 ;
    ] .

sbpmnc:dataOutputShape a sh:NodeShape ;
    sh:targetClass sbpmnc:dataOutput ;
    sh:property [
        sh:path sbpmnp:itemSubjectRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:dataState ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:isCollection ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .

sbpmnc:participantShape a sh:NodeShape ;
    sh:targetClass sbpmnc:participant ;
    sh:property [
        sh:path sbpmnp:processRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:participantMultiplicity ;
        sh:maxCount 1 ;
    ] .

sbpmnc:scriptTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:scriptTask ;
    sh:property [
        sh:path sbpmnp:script ;
        sh:maxCount 1 ;
    ] .

sbpmnc:callableElementShape a sh:NodeShape ;
    sh:targetClass sbpmnc:callableElement ;
    sh:property [
        sh:path sbpmnp:ioSpecification ;
        sh:maxCount 1 ;
    ] .

sbpmnc:callConversationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:callConversation ;
    sh:property [
        sh:path sbpmnp:calledCollaborationRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:resourceShape a sh:NodeShape ;
    sh:targetClass sbpmnc:resource ;
    sh:property [
        sh:path sbpmnp:name ;
        sh:maxCount 1 ;
        sh:minCount 1 ;
    ] .

sbpmnc:gatewayShape a sh:NodeShape ;
    sh:targetClass sbpmnc:gateway ;
    sh:property [
        sh:path sbpmnp:gatewayDirection ;
        sh:maxCount 1 ;
        sh:defaultValue "Unspecified"^^xsd:string ;
    ] .

sbpmnc:groupShape a sh:NodeShape ;
    sh:targetClass sbpmnc:group ;
    sh:property [
        sh:path sbpmnp:categoryValueRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:dataStoreReferenceShape a sh:NodeShape ;
    sh:targetClass sbpmnc:dataStoreReference ;
    sh:property [
        sh:path sbpmnp:itemSubjectRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:dataState ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:dataStoreRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:adHocSubProcessShape a sh:NodeShape ;
    sh:targetClass sbpmnc:adHocSubProcess ;
    sh:property [
        sh:path sbpmnp:completionCondition ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:cancelRemainingInstances ;
        sh:maxCount 1 ;
        sh:defaultValue "true"^^xsd:boolean ;
    ] .

sbpmnc:associationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:association ;
    sh:property [
        sh:path sbpmnp:sourceRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:targetRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:associationDirection ;
        sh:maxCount 1 ;
        sh:defaultValue "None"^^xsd:string ;
    ] .

sbpmnc:participantAssociationShape a sh:NodeShape ;
    sh:targetClass sbpmnc:participantAssociation ;
    sh:property [
        sh:path sbpmnp:innerParticipantRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:outerParticipantRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:resourceParameterBindingShape a sh:NodeShape ;
    sh:targetClass sbpmnc:resourceParameterBinding ;
    sh:property [
        sh:path sbpmnp:expression ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:parameterRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:dataObjectReferenceShape a sh:NodeShape ;
    sh:targetClass sbpmnc:dataObjectReference ;
    sh:property [
        sh:path sbpmnp:itemSubjectRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:dataState ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:dataObjectRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:callChoreographyShape a sh:NodeShape ;
    sh:targetClass sbpmnc:callChoreography ;
    sh:property [
        sh:path sbpmnp:calledChoreographyRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:dataStoreShape a sh:NodeShape ;
    sh:targetClass sbpmnc:dataStore ;
    sh:property [
        sh:path sbpmnp:dataState ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:itemSubjectRef ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:isUnlimited ;
        sh:maxCount 1 ;
        sh:defaultValue "true"^^xsd:boolean ;
    ] .

sbpmnc:correlationPropertyShape a sh:NodeShape ;
    sh:targetClass sbpmnc:correlationProperty ;
    sh:property [
        sh:path sbpmnp:correlationPropertyRetrievalExpression ;
        sh:minCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:type ;
        sh:maxCount 1 ;
    ] .

sbpmnc:formalExpressionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:formalExpression ;
    sh:property [
        sh:path sbpmnp:evaluatesToTypeRef ;
        sh:maxCount 1 ;
    ] .

sbpmnc:globalUserTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:globalUserTask ;
    sh:property [
        sh:path sbpmnp:implementation ;
        sh:maxCount 1 ;
        sh:defaultValue "##unspecified"^^xsd:token ;
    ] .

sbpmnc:globalScriptTaskShape a sh:NodeShape ;
    sh:targetClass sbpmnc:globalScriptTask ;
    sh:property [
        sh:path sbpmnp:script ;
        sh:maxCount 1 ;
    ] .

sbpmnc:correlationSubscriptionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:correlationSubscription ;
    sh:property [
        sh:path sbpmnp:correlationKeyRef ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

sbpmnc:extensionShape a sh:NodeShape ;
    sh:targetClass sbpmnc:extension ;
    sh:property [
        sh:path sbpmnp:definition ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path sbpmnp:mustUnderstand ;
        sh:maxCount 1 ;
        sh:defaultValue "false"^^xsd:boolean ;
    ] .


#################################################################
#    SHACL PropertyShapes for BPMN Properties
#################################################################

sbpmnp:associationDirectionShape a sh:PropertyShape ;
    sh:path sbpmnp:associationDirection ;
    sh:in ("None" "One" "Both") .

sbpmnp:behaviorShape a sh:PropertyShape ;
    sh:path sbpmnp:behavior ;
    sh:in ("None" "One" "All" "Complex") .

sbpmnp:directionShape a sh:PropertyShape ;
    sh:path sbpmnp:direction ;
    sh:in ("None" "Forward" "Backward" "Both") .

sbpmnp:eventGatewayTypeShape a sh:PropertyShape ;
    sh:path sbpmnp:eventGatewayType ;
    sh:in ("Exclusive" "Parallel") .

sbpmnp:gatewayDirectionShape a sh:PropertyShape ;
    sh:path sbpmnp:gatewayDirection ;
    sh:in ("Unspecified" "Converging" "Diverging" "Mixed") .

sbpmnp:implementationShape a sh:PropertyShape ;
    sh:path sbpmnp:implementation ;
    sh:or (
        [ sh:in ("##unspecified" "##WebService") ]
        [ sh:datatype xsd:anyURI ]
    ) .

sbpmnp:loopTypeShape a sh:PropertyShape ;
    sh:path sbpmnp:loopType ;
    sh:in ("None" "Standard" "MultiInstanceSequential" "MultiInstanceParallel") .

sbpmnp:methodShape a sh:PropertyShape ;
    sh:path sbpmnp:method ;
    sh:or (
        [ sh:in ("##Compensate" "##Image" "##Store") ]
        [ sh:datatype xsd:anyURI ]
    ) .

sbpmnp:orderingShape a sh:PropertyShape ;
    sh:path sbpmnp:ordering ;
    sh:in ("Parallel" "Sequential") .

sbpmnp:processTypeShape a sh:PropertyShape ;
    sh:path sbpmnp:processType ;
    sh:in ("None" "Public" "Private") .

sbpmnp:itemKindShape a sh:PropertyShape ;
    sh:path sbpmnp:itemKind ;
    sh:in ("Information" "Physical") .
